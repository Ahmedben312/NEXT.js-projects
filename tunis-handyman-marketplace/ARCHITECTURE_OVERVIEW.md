# ğŸ—ï¸ Architecture Overview - Enhanced Registration System

## ğŸ“ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FRONTEND (Next.js)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Home Page / Landing                                   â”‚   â”‚
â”‚  â”‚  â”œâ”€ "Join" Button â†’ AuthWrapper                        â”‚   â”‚
â”‚  â”‚  â””â”€ "Sign In" Button â†’ AuthWrapper                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  AuthWrapper Component (NEW)                           â”‚   â”‚
â”‚  â”‚  â”œâ”€ Step 1: Role Selection Modal                       â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ ğŸ›’ Service Buyer Button                         â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ ğŸ’¼ Service Provider Button                      â”‚   â”‚
â”‚  â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  â””â”€ Step 2: Registration Form                          â”‚   â”‚
â”‚  â”‚     â”œâ”€ Email Input                                     â”‚   â”‚
â”‚  â”‚     â”œâ”€ Password Input                                  â”‚   â”‚
â”‚  â”‚     â””â”€ Submit Button (sends userType)                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  State Management (Redux)                              â”‚   â”‚
â”‚  â”‚  â”œâ”€ showRoleModal: boolean (NEW)                       â”‚   â”‚
â”‚  â”‚  â”œâ”€ userRole: "buyer" | "provider" (NEW)              â”‚   â”‚
â”‚  â”‚  â”œâ”€ userInfo: User (includes userType)                 â”‚   â”‚
â”‚  â”‚  â””â”€ showSignupModal, showLoginModal                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                                â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    HTTP POST (JSON)
                            â”‚
    {                       â”‚
      email: string         â”‚
      password: string      â”‚
      userType: string â—„â”€â”€â”€â”€â”˜  (NEW)
    }
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BACKEND (Express)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  /api/auth/signup (POST)                               â”‚   â”‚
â”‚  â”‚  â”œâ”€ Receives: email, password, userType (NEW)          â”‚   â”‚
â”‚  â”‚  â””â”€ Calls: registerUser(email, password, userType)     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  authService.registerUser() (UPDATED)                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ Validates email/password                           â”‚   â”‚
â”‚  â”‚  â”œâ”€ Hashes password (bcrypt)                           â”‚   â”‚
â”‚  â”‚  â”œâ”€ Creates user with userType (NEW)                   â”‚   â”‚
â”‚  â”‚  â””â”€ Returns user object                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  MongoDB Database                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ User Collection (UPDATED)                        â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ _id                                             â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ email                                           â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ password (hashed)                               â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ username                                        â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ fullName                                        â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ userType: "buyer" | "provider" (NEW)           â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ specialization (NEW - for providers)            â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ yearsExperience (NEW - for providers)           â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ rating (NEW - for providers)       â—„â”€â”€â”€â”€â”€â”     â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ totalReviews (NEW - for providers) â—„â”€â”€â”€â”€â”€â”¤     â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ profileImage                               â”‚     â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ createdAt                                  â”‚     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€ updatedAt (NEW)                           â”‚     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Reviews Collection (UPDATED)                     â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ _id                                             â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ rating (1-5)                                    â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ title (NEW)                                     â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ comment                                         â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ gigId â†’ Gig                                     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€ reviewerId â†’ User â”€â”€â”€â”€â”€â”€â”€â”€ Updates User rating â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Gig Collection                                   â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ title                                           â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ userId â†’ User (provider)                        â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ reviews â†’ [Reviews]                             â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€ ...                                             â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Order Collection                                 â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ buyerId â†’ User (buyer)                          â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ gigId â†’ Gig                                     â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€ status (NEW): pending/in_progress/completed    â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€ ...                                             â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Registration Flow Diagram

```
START
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Homepage       â”‚
â”‚  "Join" Button  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Role Selection Modal        â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ ğŸ›’ Service Buyer           â”‚
    â”‚ "Find and hire freelancers"â”‚
    â”‚                            â”‚
    â”‚ ğŸ’¼ Service Provider        â”‚
    â”‚ "Offer skills & earn"      â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚              â”‚
    SELECTâ”‚              â”‚SELECT
    BUYER â”‚              â”‚PROVIDER
         â”‚              â”‚
         â–¼              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ userRole â”‚  â”‚ userRole â”‚
    â”‚= "buyer" â”‚  â”‚="provider"â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚          â”‚
           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Registration Formâ”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ Email Input      â”‚
         â”‚ Password Input   â”‚
         â”‚ [Sign Up]        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ POST to /api/auth/signup
                  â”‚ { email, password, userType }
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Backend Validatesâ”‚
         â”‚ Create User with â”‚
         â”‚ userType stored  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ JWT Generated    â”‚
         â”‚ with userId      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Check userType           â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                â”‚
    IS PROVIDER?      IS BUYER?
         â”‚                â”‚
         â–¼                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Redirectâ”‚      â”‚ Redirect â”‚
    â”‚ /seller â”‚      â”‚ /buyer   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                â”‚
         â–¼                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ User Logged In & Routed â”‚
    â”‚ Can Access Full App     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
       END
```

---

## ğŸ‘¥ User Type Differences

### **Service Buyer**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Service Buyer                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Dashboard:     /buyer                   â”‚
â”‚ Can:                                    â”‚
â”‚  âœ“ Browse gigs                          â”‚
â”‚  âœ“ Search gigs                          â”‚
â”‚  âœ“ Place orders                         â”‚
â”‚  âœ“ Leave reviews with ratings           â”‚
â”‚  âœ“ Message with providers               â”‚
â”‚  âœ“ View order history                   â”‚
â”‚ Cannot:                                 â”‚
â”‚  âœ— Create gigs                          â”‚
â”‚  âœ— See earnings                         â”‚
â”‚  âœ— Get ratings                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Service Provider**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Service Provider (Seller)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Dashboard:     /seller                  â”‚
â”‚ Can:                                    â”‚
â”‚  âœ“ Create & manage gigs                 â”‚
â”‚  âœ“ Receive orders                       â”‚
â”‚  âœ“ See earnings & stats                 â”‚
â”‚  âœ“ Get reviews & ratings                â”‚
â”‚  âœ“ Message with buyers                  â”‚
â”‚  âœ“ Track completed work                 â”‚
â”‚ Profile shows:                          â”‚
â”‚  â€¢ Specialization                       â”‚
â”‚  â€¢ Years of Experience                  â”‚
â”‚  â€¢ Rating (â­â­â­â­â­)                   â”‚
â”‚  â€¢ Total Reviews                        â”‚
â”‚  â€¢ Review titles & comments             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Test Data Structure

```
Database After Seeding
â”œâ”€â”€ Users (10)
â”‚   â”œâ”€â”€ Providers (6)
â”‚   â”‚   â”œâ”€â”€ john@fx.com (Web Developer, â­â­â­â­â­)
â”‚   â”‚   â”œâ”€â”€ sarah@fx.com (Graphic Designer, â­â­â­â­)
â”‚   â”‚   â”œâ”€â”€ mike@fx.com (Digital Marketer)
â”‚   â”‚   â”œâ”€â”€ emily@fx.com (Content Writer)
â”‚   â”‚   â”œâ”€â”€ david@fx.com (Mobile Developer)
â”‚   â”‚   â””â”€â”€ james@fx.com (Video Editor)
â”‚   â”‚
â”‚   â””â”€â”€ Buyers (4)
â”‚       â”œâ”€â”€ alice@fx.com (Small Business Owner)
â”‚       â”œâ”€â”€ robert@fx.com (Startup Founder)
â”‚       â”œâ”€â”€ lisa@fx.com (Marketing Manager)
â”‚       â””â”€â”€ linda@fx.com (E-commerce Owner)
â”‚
â”œâ”€â”€ Gigs (6)
â”‚   â”œâ”€â”€ Build React Website (by john@fx.com)
â”‚   â”œâ”€â”€ Logo Design (by sarah@fx.com)
â”‚   â”œâ”€â”€ SEO Optimization (by mike@fx.com)
â”‚   â”œâ”€â”€ Content Writing (by emily@fx.com)
â”‚   â”œâ”€â”€ Mobile App Dev (by david@fx.com)
â”‚   â””â”€â”€ Video Editing (by james@fx.com)
â”‚
â”œâ”€â”€ Orders (4)
â”‚   â”œâ”€â”€ alice â†’ john's React gig (COMPLETED)
â”‚   â”œâ”€â”€ robert â†’ sarah's Logo gig (COMPLETED)
â”‚   â”œâ”€â”€ lisa â†’ mike's SEO gig (IN_PROGRESS)
â”‚   â””â”€â”€ linda â†’ emily's Writing gig (COMPLETED)
â”‚
â””â”€â”€ Reviews (6)
    â”œâ”€â”€ alice â†’ â­â­â­â­â­ "Excellent Work!"
    â”œâ”€â”€ robert â†’ â­â­â­â­â­ "Amazing Logo Design"
    â”œâ”€â”€ lisa â†’ â­â­â­â­ "Great SEO Expertise"
    â”œâ”€â”€ linda â†’ â­â­â­â­â­ "Outstanding Content"
    â”œâ”€â”€ linda â†’ â­â­â­â­â­ "Professional Developer"
    â””â”€â”€ lisa â†’ â­â­â­â­ "Good Design Skills"
```

---

## ğŸ” Authentication Flow

```
LOGIN REQUEST
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Receive email &  â”‚
â”‚ password         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Query User by    â”‚
â”‚ email in DB      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€ Found? â”€â”€â”€â–º Compare passwords
         â”‚                    â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
         â”‚              â”‚            â”‚
         â”‚           Match       No Match
         â”‚              â”‚            â”‚
         â”‚              â–¼            â–¼
         â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚         â”‚ Valid   â”‚  â”‚ Invalid  â”‚
         â”‚         â”‚Password â”‚  â”‚Password  â”‚
         â”‚         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚              â”‚         Error
         â”‚              â”‚
         â”œâ”€ Not Found? â”€â”€â–º Error: User not found
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Extract User Data                      â”‚
    â”‚ â”œâ”€ id                                  â”‚
    â”‚ â”œâ”€ email                               â”‚
    â”‚ â”œâ”€ username                            â”‚
    â”‚ â”œâ”€ userType (NEW!)                     â”‚
    â”‚ â””â”€ other profile info                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Generate JWT Token     â”‚
    â”‚ payload: {             â”‚
    â”‚   email: string,       â”‚
    â”‚   userId: string       â”‚
    â”‚ }                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Return Response                    â”‚
    â”‚ {                                  â”‚
    â”‚   user: {                          â”‚
    â”‚     id, email, userType (NEW!)     â”‚
    â”‚   },                               â”‚
    â”‚   jwt: token                       â”‚
    â”‚ }                                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Frontend Routes Based on userType  â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ if userType === "provider"         â”‚
    â”‚   â†’ Redirect to /seller            â”‚
    â”‚                                    â”‚
    â”‚ else if userType === "buyer"       â”‚
    â”‚   â†’ Redirect to /buyer             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
      SUCCESS
```

---

## ğŸ’¡ Key Components

### **1. Role Selection Modal** (NEW)

- Shown on signup
- Two clear options with descriptions
- Sets `userRole` in Redux state
- Advances to registration form

### **2. Enhanced AuthWrapper** (UPDATED)

- Multi-step process
- Role state management
- Sends `userType` with signup request
- Shows role-specific messages

### **3. User Rating System** (NEW)

- Reviews have ratings (1-5)
- Provider `rating` = average of all reviews
- Provider `totalReviews` = count of reviews
- Automatically updated on new review

### **4. Review Enhancement** (NEW)

- Reviews include `title` field
- Better for displaying review summaries
- Shows on provider profile

---

**This architecture ensures smooth user onboarding with clear role differentiation! ğŸ‰**
